#@ load("@ytt:data", "data")
#@ load("@ytt:assert", "assert")
#@ load("/lib/helpers.star", "get_bom_data_for_tkr_name", "get_image_repo_for_component", "get_no_proxy")



#@ def azuredisk_csi_data_values():
#@ bomData = get_bom_data_for_tkr_name()

---
azurediskCSI:
  namespace: kube-system
  clusterName: #@ data.values.CLUSTER_NAME
  http_proxy: #@ data.values.TKG_HTTP_PROXY
  https_proxy: #@ data.values.TKG_HTTPS_PROXY
  no_proxy: #@ get_no_proxy()
  useTopologyCategories: #@ enableTopologyCatogories()
  #@ if data.values.CLUSTER_PLAN == "dev":
  deployment_replicas: 1
  #@ else:
  deployment_replicas: 3
  #@ end
