---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.9.2
  creationTimestamp: null
  name: featuregates.core.tanzu.vmware.com
spec:
  group: core.tanzu.vmware.com
  names:
    kind: FeatureGate
    listKind: FeatureGateList
    plural: featuregates
    singular: featuregate
  scope: Cluster
  versions:
  - name: v1alpha2
    schema:
      openAPIV3Schema:
        description: FeatureGate is the Schema for the featuregates API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: Spec is the specification for gating features.
            properties:
              features:
                description: Features is a slice of FeatureReference to gate features.
                  The Feature resource specified may or may not be present in the
                  system. If the Feature is present, the FeatureGate controller and
                  webhook sets the specified activation state only if the Feature
                  is discoverable and its immutability constraint is satisfied. If
                  the Feature is not present, the activation intent is applied when
                  the Feature resource appears in the system. The actual activation
                  state of the Feature is reported in the status.
                items:
                  description: FeatureReference refers to a Feature resource and specifies
                    its intended activation state.
                  properties:
                    activate:
                      description: Activate indicates the activation intent for the
                        feature.
                      type: boolean
                    name:
                      description: Name is the name of the Feature resource, which
                        represents a feature the system offers.
                      type: string
                    skipStabilityValidation:
                      description: SkipStabilityValidation lets you skip the validation
                        performed when activating an unstable feature. Once set to
                        true, cannot be set back to false
                      type: boolean
                  required:
                  - name
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - name
                x-kubernetes-list-type: map
            type: object
          status:
            description: Status reports activation state and availability of features
              in the system.
            properties:
              results:
                description: Results represents the results of all the features specified
                  in the FeatureGate spec.
                items:
                  description: Result represents the result of Feature.
                  properties:
                    message:
                      description: Message represents the reason for invalid status
                      type: string
                    name:
                      description: Name is the name of the feature.
                      minLength: 1
                      type: string
                    status:
                      description: 'Status represents the outcome of the feature operation
                        specified in the spec - applied: represents feature toggle
                        has been successfully applied. - no-op: represent no operation
                        has been done, feature is already in the intended state. -
                        invalid: represents that the intended state of the feature
                        is invalid.'
                      enum:
                      - applied
                      - no-op
                      - invalid
                      type: string
                  required:
                  - name
                  - status
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - name
                x-kubernetes-list-type: map
            required:
            - results
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
