apiVersion: cluster.x-k8s.io/v1beta1
kind: Cluster
metadata:
  name: test-cluster-csi
  namespace: default
spec:
  infrastructureRef:
    kind: VSphereCluster
  clusterNetwork:
    pods:
      cidrBlocks: [ "192.168.0.0/16","fd00:100:96::/48" ]
  topology:
    class: test-clusterclass-tcbt
    version: v1.22.3
---
apiVersion: csi.tanzu.vmware.com/v1alpha1
kind: CSIConfig
metadata:
  name: test-cluster-csi
  namespace: default
spec:
  vsphereCSI:
    mode: vsphereCSI
    config:
      namespace: default
      clusterName: test-clustername
      server: svr-0
      datacenter: dc0
      publicNetwork: "8.2.0.0/16"
      username: "administrator@vsphere.local"
      password: test-passwd
      region: test-region
      zone: test-zone
      useTopologyCategories: true
      provisionTimeout: 33s
      attachTimeout: 77s
      resizerTimeout: 99s
      vSphereVersion: 8.1.2-release
      httpProxy: "1.1.1.1"
      httpsProxy: "2.2.2.2"
      noProxy: "3.3.3.3"
      deploymentReplicas: 3
      windowsSupport: true